<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Merkle Tree: Merkle.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Merkle Tree
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('_merkle_8c.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Merkle.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of a Merkle tree using SHA-256 and a queue-based approach.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;openssl/sha.h&gt;</code><br />
<code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="_merkle_8h_source.html">Merkle.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_merkle_queue_8h_source.html">MerkleQueue.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_utils_8h_source.html">Utils.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:merkle_5Fnode" id="r_merkle_5Fnode"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmerkle__node.html">merkle_node</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a node in the Merkle tree.  <a href="structmerkle__node.html#details">More...</a><br /></td></tr>
<tr class="memitem:merkle_5Fproof_5Fitem" id="r_merkle_5Fproof_5Fitem"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmerkle__proof__item.html">merkle_proof_item</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents an item in a Merkle proof.  <a href="structmerkle__proof__item.html#details">More...</a><br /></td></tr>
<tr class="memitem:merkle_5Ftree" id="r_merkle_5Ftree"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmerkle__tree.html">merkle_tree</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a Merkle tree.  <a href="structmerkle__tree.html#details">More...</a><br /></td></tr>
<tr class="memitem:queue_5Felement_5Ft" id="r_queue_5Felement_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structqueue__element__t.html">queue_element_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents an element in the queue used for tree construction.  <a href="structqueue__element__t.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad6074dd11ab3c97c8135c43aab03ae95" id="r_ad6074dd11ab3c97c8135c43aab03ae95"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad6074dd11ab3c97c8135c43aab03ae95">HASH_SIZE</a>&#160;&#160;&#160;(32)</td></tr>
<tr class="memitem:afb8c72ce35c4a1f4a2588d6573e54aa1" id="r_afb8c72ce35c4a1f4a2588d6573e54aa1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afb8c72ce35c4a1f4a2588d6573e54aa1">DATA_TYPE</a>&#160;&#160;&#160;(1)</td></tr>
<tr class="memitem:abc31d73e62d5a07ddad2608f759c288c" id="r_abc31d73e62d5a07ddad2608f759c288c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abc31d73e62d5a07ddad2608f759c288c">HASH_TYPE</a>&#160;&#160;&#160;(2)</td></tr>
<tr class="memitem:aaec5e7a82cc2900dca5c861addf57316" id="r_aaec5e7a82cc2900dca5c861addf57316"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaec5e7a82cc2900dca5c861addf57316">FREE_ALL</a>(...)</td></tr>
<tr class="memitem:a0130f567a12919d8d09d649d4e92a025" id="r_a0130f567a12919d8d09d649d4e92a025"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0130f567a12919d8d09d649d4e92a025">DEALLOC_QUEUE_ELEMENTS</a>(...)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-typedef-members" class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a0ea52d9e980708960ff458370cd13a7d" id="r_a0ea52d9e980708960ff458370cd13a7d"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="#a4d28716b9d3deec1bab152ecfd649c6b">deallocation_policy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ea52d9e980708960ff458370cd13a7d">deallocation_policy</a></td></tr>
<tr class="memdesc:a0ea52d9e980708960ff458370cd13a7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Policy for deallocation of queue elements.  <br /></td></tr>
<tr class="memitem:a4ef105bf8edc56b3a40dd8497d195648" id="r_a4ef105bf8edc56b3a40dd8497d195648"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structmerkle__node.html">merkle_node</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4ef105bf8edc56b3a40dd8497d195648">merkle_node_t</a></td></tr>
<tr class="memdesc:a4ef105bf8edc56b3a40dd8497d195648"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a node in the Merkle tree.  <br /></td></tr>
<tr class="memitem:afa1c3315ddcca11f2f44de570ee14f34" id="r_afa1c3315ddcca11f2f44de570ee14f34"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structmerkle__proof__item.html">merkle_proof_item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa1c3315ddcca11f2f44de570ee14f34">merkle_proof_item_t</a></td></tr>
<tr class="memdesc:afa1c3315ddcca11f2f44de570ee14f34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents an item in a Merkle proof.  <br /></td></tr>
<tr class="memitem:a09c1ed2cc854894a6126ba30d1bf7c73" id="r_a09c1ed2cc854894a6126ba30d1bf7c73"><td class="memItemLeft" align="right" valign="top">typedef struct queue_element_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09c1ed2cc854894a6126ba30d1bf7c73">queue_element_t</a></td></tr>
<tr class="memdesc:a09c1ed2cc854894a6126ba30d1bf7c73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents an element in the queue used for tree construction.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-enum-members" class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a4d28716b9d3deec1bab152ecfd649c6b" id="r_a4d28716b9d3deec1bab152ecfd649c6b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4d28716b9d3deec1bab152ecfd649c6b">deallocation_policy</a> { <a class="el" href="#a4d28716b9d3deec1bab152ecfd649c6ba75173f1d114fa6ded5aeb144b7b95645">Dont_Dealloc</a> = 0
, <a class="el" href="#a4d28716b9d3deec1bab152ecfd649c6bab84fd5cf10b3c4d0d74ff168ff4e0f4e">Dealloc</a> = 1
 }</td></tr>
<tr class="memdesc:a4d28716b9d3deec1bab152ecfd649c6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Policy for deallocation of queue elements.  <a href="#a4d28716b9d3deec1bab152ecfd649c6b">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab1cc03252789b00f98751147e258d5da" id="r_ab1cc03252789b00f98751147e258d5da"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab1cc03252789b00f98751147e258d5da">free_all_variadic</a> (void *first,...)</td></tr>
<tr class="memdesc:ab1cc03252789b00f98751147e258d5da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees a variadic list of pointers using MFree.  <br /></td></tr>
<tr class="memitem:ae0080dc33a244856634e16ce29dc97c0" id="r_ae0080dc33a244856634e16ce29dc97c0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_merkle_queue_8h.html#ab373d3684d1087bf21baeba5557e78fa">deallocator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae0080dc33a244856634e16ce29dc97c0">get_queue_dealloc</a> (<a class="el" href="#a4d28716b9d3deec1bab152ecfd649c6b">deallocation_policy</a> policy)</td></tr>
<tr class="memdesc:ae0080dc33a244856634e16ce29dc97c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a deallocator function pointer based on the policy.  <br /></td></tr>
<tr class="memitem:ad8e1cc92acc721995aab2c6cc3b1266c" id="r_ad8e1cc92acc721995aab2c6cc3b1266c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad8e1cc92acc721995aab2c6cc3b1266c">dealloc_hash_node</a> (<a class="el" href="#a4ef105bf8edc56b3a40dd8497d195648">merkle_node_t</a> *e)</td></tr>
<tr class="memdesc:ad8e1cc92acc721995aab2c6cc3b1266c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recursively deallocates a Merkle tree node and its children.  <br /></td></tr>
<tr class="memitem:a78b03886aa9070960bc92f8097c4cbf6" id="r_a78b03886aa9070960bc92f8097c4cbf6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78b03886aa9070960bc92f8097c4cbf6">dealloc_queue_element</a> (void *e)</td></tr>
<tr class="memdesc:a78b03886aa9070960bc92f8097c4cbf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates a queue element, including its data or Merkle node.  <br /></td></tr>
<tr class="memitem:ae7d8dc0c3d4c14bd210177014bcb850c" id="r_ae7d8dc0c3d4c14bd210177014bcb850c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae7d8dc0c3d4c14bd210177014bcb850c">dealloc_queue_elements_variadic</a> (<a class="el" href="structqueue__element__t.html">queue_element_t</a> *first,...)</td></tr>
<tr class="memdesc:ae7d8dc0c3d4c14bd210177014bcb850c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates a variadic list of queue elements.  <br /></td></tr>
<tr class="memitem:a97d1ed51977cfa8115046f2cd017b207" id="r_a97d1ed51977cfa8115046f2cd017b207"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_merkle_8h.html#ac568a5eee061a37d53770a559a4f1bb3">merkle_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97d1ed51977cfa8115046f2cd017b207">hash_data_block</a> (const void *data, size_t size, unsigned char out[<a class="el" href="#ad6074dd11ab3c97c8135c43aab03ae95">HASH_SIZE</a>])</td></tr>
<tr class="memdesc:a97d1ed51977cfa8115046f2cd017b207"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hashes a data block using SHA-256.  <br /></td></tr>
<tr class="memitem:a2bbf3c3da758d06afe3287437f5cf27c" id="r_a2bbf3c3da758d06afe3287437f5cf27c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_merkle_8h.html#ac568a5eee061a37d53770a559a4f1bb3">merkle_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2bbf3c3da758d06afe3287437f5cf27c">hash_two_nodes</a> (<a class="el" href="#a4ef105bf8edc56b3a40dd8497d195648">merkle_node_t</a> *n1, <a class="el" href="#a4ef105bf8edc56b3a40dd8497d195648">merkle_node_t</a> *n2, unsigned char out[<a class="el" href="#ad6074dd11ab3c97c8135c43aab03ae95">HASH_SIZE</a>])</td></tr>
<tr class="memdesc:a2bbf3c3da758d06afe3287437f5cf27c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hashes two Merkle nodes together using SHA-256.  <br /></td></tr>
<tr class="memitem:a691843512d1ed44e5457a16ef47b59fa" id="r_a691843512d1ed44e5457a16ef47b59fa"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_merkle_8h.html#ac568a5eee061a37d53770a559a4f1bb3">merkle_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a691843512d1ed44e5457a16ef47b59fa">build_tree_from_queue</a> (<a class="el" href="_merkle_queue_8h.html#aa8acf648f3b0c69d7e132fcc61dc58c7">queue_t</a> *<a class="el" href="structqueue.html">queue</a>, <a class="el" href="_merkle_8h.html#a764b87014a84f1e0efa1412150f310cf">merkle_tree_t</a> **result)</td></tr>
<tr class="memdesc:a691843512d1ed44e5457a16ef47b59fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a Merkle tree from a queue of elements.  <br /></td></tr>
<tr class="memitem:a4253c66cf0bacefdead8f98bfaea3ce7" id="r_a4253c66cf0bacefdead8f98bfaea3ce7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4253c66cf0bacefdead8f98bfaea3ce7">merkle_tree_destroy</a> (<a class="el" href="_merkle_8h.html#a764b87014a84f1e0efa1412150f310cf">merkle_tree_t</a> *tree)</td></tr>
<tr class="memdesc:a4253c66cf0bacefdead8f98bfaea3ce7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a Merkle tree and frees all associated memory.  <br /></td></tr>
<tr class="memitem:a0f39ca1ae21ad9ba01b909e719ad8388" id="r_a0f39ca1ae21ad9ba01b909e719ad8388"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_merkle_8h.html#a764b87014a84f1e0efa1412150f310cf">merkle_tree_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f39ca1ae21ad9ba01b909e719ad8388">merkle_tree_create</a> (const void **data, const size_t *size, size_t count)</td></tr>
<tr class="memdesc:a0f39ca1ae21ad9ba01b909e719ad8388"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a Merkle tree from an array of data blocks.  <br /></td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4" id="r_ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
<tr class="memdesc:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main entry point for testing.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of a Merkle tree using SHA-256 and a queue-based approach. </p>
<p>This file provides the implementation for creating, destroying, and managing Merkle trees. It includes utility functions for hashing, memory management, and queue operations, as well as internal data structures for Merkle nodes, proofs, and queue elements.</p>
<dl class="section author"><dt>Author</dt><dd>Guy Alster </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2025-05-25 </dd></dl>
</div><a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="afb8c72ce35c4a1f4a2588d6573e54aa1" name="afb8c72ce35c4a1f4a2588d6573e54aa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb8c72ce35c4a1f4a2588d6573e54aa1">&#9670;&#160;</a></span>DATA_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DATA_TYPE&#160;&#160;&#160;(1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0130f567a12919d8d09d649d4e92a025" name="a0130f567a12919d8d09d649d4e92a025"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0130f567a12919d8d09d649d4e92a025">&#9670;&#160;</a></span>DEALLOC_QUEUE_ELEMENTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEALLOC_QUEUE_ELEMENTS</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em></em></span>...</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">  <a class="code hl_function" href="#ae7d8dc0c3d4c14bd210177014bcb850c">dealloc_queue_elements_variadic</a>(__VA_ARGS__, (<a class="code hl_struct" href="structqueue__element__t.html">queue_element_t</a> *)-1)</div>
<div class="ttc" id="a_merkle_8c_html_ae7d8dc0c3d4c14bd210177014bcb850c"><div class="ttname"><a href="#ae7d8dc0c3d4c14bd210177014bcb850c">dealloc_queue_elements_variadic</a></div><div class="ttdeci">static void dealloc_queue_elements_variadic(queue_element_t *first,...)</div><div class="ttdoc">Deallocates a variadic list of queue elements.</div><div class="ttdef"><b>Definition</b> Merkle.c:196</div></div>
<div class="ttc" id="astructqueue__element__t_html"><div class="ttname"><a href="structqueue__element__t.html">queue_element_t</a></div><div class="ttdoc">Represents an element in the queue used for tree construction.</div><div class="ttdef"><b>Definition</b> Merkle.c:68</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaec5e7a82cc2900dca5c861addf57316" name="aaec5e7a82cc2900dca5c861addf57316"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaec5e7a82cc2900dca5c861addf57316">&#9670;&#160;</a></span>FREE_ALL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FREE_ALL</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em></em></span>...</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#ab1cc03252789b00f98751147e258d5da">free_all_variadic</a>(__VA_ARGS__, (<span class="keywordtype">void</span> *)-1)</div>
<div class="ttc" id="a_merkle_8c_html_ab1cc03252789b00f98751147e258d5da"><div class="ttname"><a href="#ab1cc03252789b00f98751147e258d5da">free_all_variadic</a></div><div class="ttdeci">static void free_all_variadic(void *first,...)</div><div class="ttdoc">Frees a variadic list of pointers using MFree.</div><div class="ttdef"><b>Definition</b> Merkle.c:155</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad6074dd11ab3c97c8135c43aab03ae95" name="ad6074dd11ab3c97c8135c43aab03ae95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6074dd11ab3c97c8135c43aab03ae95">&#9670;&#160;</a></span>HASH_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HASH_SIZE&#160;&#160;&#160;(32)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abc31d73e62d5a07ddad2608f759c288c" name="abc31d73e62d5a07ddad2608f759c288c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc31d73e62d5a07ddad2608f759c288c">&#9670;&#160;</a></span>HASH_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HASH_TYPE&#160;&#160;&#160;(2)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Typedef Documentation</h2>
<a id="a0ea52d9e980708960ff458370cd13a7d" name="a0ea52d9e980708960ff458370cd13a7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ea52d9e980708960ff458370cd13a7d">&#9670;&#160;</a></span>deallocation_policy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="#a4d28716b9d3deec1bab152ecfd649c6b">deallocation_policy</a> <a class="el" href="#a4d28716b9d3deec1bab152ecfd649c6b">deallocation_policy</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Policy for deallocation of queue elements. </p>

</div>
</div>
<a id="a4ef105bf8edc56b3a40dd8497d195648" name="a4ef105bf8edc56b3a40dd8497d195648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ef105bf8edc56b3a40dd8497d195648">&#9670;&#160;</a></span>merkle_node_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structmerkle__node.html">merkle_node</a> <a class="el" href="#a4ef105bf8edc56b3a40dd8497d195648">merkle_node_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Represents a node in the Merkle tree. </p>

</div>
</div>
<a id="afa1c3315ddcca11f2f44de570ee14f34" name="afa1c3315ddcca11f2f44de570ee14f34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa1c3315ddcca11f2f44de570ee14f34">&#9670;&#160;</a></span>merkle_proof_item_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structmerkle__proof__item.html">merkle_proof_item</a> <a class="el" href="#afa1c3315ddcca11f2f44de570ee14f34">merkle_proof_item_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Represents an item in a Merkle proof. </p>

</div>
</div>
<a id="a09c1ed2cc854894a6126ba30d1bf7c73" name="a09c1ed2cc854894a6126ba30d1bf7c73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09c1ed2cc854894a6126ba30d1bf7c73">&#9670;&#160;</a></span>queue_element_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct queue_element_t queue_element_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Represents an element in the queue used for tree construction. </p>

</div>
</div>
<a name="doc-enum-members" id="doc-enum-members"></a><h2 id="header-doc-enum-members" class="groupheader">Enumeration Type Documentation</h2>
<a id="a4d28716b9d3deec1bab152ecfd649c6b" name="a4d28716b9d3deec1bab152ecfd649c6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d28716b9d3deec1bab152ecfd649c6b">&#9670;&#160;</a></span>deallocation_policy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a4d28716b9d3deec1bab152ecfd649c6b">deallocation_policy</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Policy for deallocation of queue elements. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a4d28716b9d3deec1bab152ecfd649c6ba75173f1d114fa6ded5aeb144b7b95645" name="a4d28716b9d3deec1bab152ecfd649c6ba75173f1d114fa6ded5aeb144b7b95645"></a>Dont_Dealloc&#160;</td><td class="fielddoc"><p>Do not deallocate. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4d28716b9d3deec1bab152ecfd649c6bab84fd5cf10b3c4d0d74ff168ff4e0f4e" name="a4d28716b9d3deec1bab152ecfd649c6bab84fd5cf10b3c4d0d74ff168ff4e0f4e"></a>Dealloc&#160;</td><td class="fielddoc"><p>Deallocate memory. </p>
</td></tr>
</table>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a691843512d1ed44e5457a16ef47b59fa" name="a691843512d1ed44e5457a16ef47b59fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a691843512d1ed44e5457a16ef47b59fa">&#9670;&#160;</a></span>build_tree_from_queue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_merkle_8h.html#ac568a5eee061a37d53770a559a4f1bb3">merkle_error_t</a> build_tree_from_queue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_merkle_queue_8h.html#aa8acf648f3b0c69d7e132fcc61dc58c7">queue_t</a> *</td>          <td class="paramname"><span class="paramname"><em>queue</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_merkle_8h.html#a764b87014a84f1e0efa1412150f310cf">merkle_tree_t</a> **</td>          <td class="paramname"><span class="paramname"><em>result</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Builds a Merkle tree from a queue of elements. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>Pointer to the queue. </td></tr>
    <tr><td class="paramname">result</td><td>Output pointer to the resulting Merkle tree. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MERKLE_SUCCESS on success, error code otherwise. </dd></dl>

</div>
</div>
<a id="ad8e1cc92acc721995aab2c6cc3b1266c" name="ad8e1cc92acc721995aab2c6cc3b1266c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8e1cc92acc721995aab2c6cc3b1266c">&#9670;&#160;</a></span>dealloc_hash_node()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dealloc_hash_node </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a4ef105bf8edc56b3a40dd8497d195648">merkle_node_t</a> *</td>          <td class="paramname"><span class="paramname"><em>e</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recursively deallocates a Merkle tree node and its children. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>Pointer to the Merkle node to deallocate. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a78b03886aa9070960bc92f8097c4cbf6" name="a78b03886aa9070960bc92f8097c4cbf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78b03886aa9070960bc92f8097c4cbf6">&#9670;&#160;</a></span>dealloc_queue_element()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dealloc_queue_element </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>e</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deallocates a queue element, including its data or Merkle node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>Pointer to the queue element to deallocate. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae7d8dc0c3d4c14bd210177014bcb850c" name="ae7d8dc0c3d4c14bd210177014bcb850c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7d8dc0c3d4c14bd210177014bcb850c">&#9670;&#160;</a></span>dealloc_queue_elements_variadic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dealloc_queue_elements_variadic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structqueue__element__t.html">queue_element_t</a> *</td>          <td class="paramname"><span class="paramname"><em>first</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deallocates a variadic list of queue elements. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first</td><td>The first queue element to deallocate. </td></tr>
    <tr><td class="paramname">...</td><td>Additional queue elements, terminated by (<a class="el" href="structqueue__element__t.html" title="Represents an element in the queue used for tree construction.">queue_element_t</a> *)-1. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab1cc03252789b00f98751147e258d5da" name="ab1cc03252789b00f98751147e258d5da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1cc03252789b00f98751147e258d5da">&#9670;&#160;</a></span>free_all_variadic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void free_all_variadic </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>first</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frees a variadic list of pointers using MFree. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first</td><td>The first pointer to free. </td></tr>
    <tr><td class="paramname">...</td><td>Additional pointers to free, terminated by (void *)-1. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae0080dc33a244856634e16ce29dc97c0" name="ae0080dc33a244856634e16ce29dc97c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0080dc33a244856634e16ce29dc97c0">&#9670;&#160;</a></span>get_queue_dealloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_merkle_queue_8h.html#ab373d3684d1087bf21baeba5557e78fa">deallocator</a> get_queue_dealloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a4d28716b9d3deec1bab152ecfd649c6b">deallocation_policy</a></td>          <td class="paramname"><span class="paramname"><em>policy</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a deallocator function pointer based on the policy. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">policy</td><td>The deallocation policy. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The deallocator function pointer or NULL. </dd></dl>

</div>
</div>
<a id="a97d1ed51977cfa8115046f2cd017b207" name="a97d1ed51977cfa8115046f2cd017b207"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97d1ed51977cfa8115046f2cd017b207">&#9670;&#160;</a></span>hash_data_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_merkle_8h.html#ac568a5eee061a37d53770a559a4f1bb3">merkle_error_t</a> hash_data_block </td>
          <td>(</td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char</td>          <td class="paramname"><span class="paramname"><em>out</em></span>[HASH_SIZE]&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hashes a data block using SHA-256. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Pointer to the data. </td></tr>
    <tr><td class="paramname">size</td><td>Size of the data. </td></tr>
    <tr><td class="paramname">out</td><td>Output buffer for the hash (must be HASH_SIZE bytes). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MERKLE_SUCCESS on success, error code otherwise. </dd></dl>

</div>
</div>
<a id="a2bbf3c3da758d06afe3287437f5cf27c" name="a2bbf3c3da758d06afe3287437f5cf27c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bbf3c3da758d06afe3287437f5cf27c">&#9670;&#160;</a></span>hash_two_nodes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_merkle_8h.html#ac568a5eee061a37d53770a559a4f1bb3">merkle_error_t</a> hash_two_nodes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a4ef105bf8edc56b3a40dd8497d195648">merkle_node_t</a> *</td>          <td class="paramname"><span class="paramname"><em>n1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a4ef105bf8edc56b3a40dd8497d195648">merkle_node_t</a> *</td>          <td class="paramname"><span class="paramname"><em>n2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char</td>          <td class="paramname"><span class="paramname"><em>out</em></span>[HASH_SIZE]&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hashes two Merkle nodes together using SHA-256. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n1</td><td>Pointer to the first node. </td></tr>
    <tr><td class="paramname">n2</td><td>Pointer to the second node. </td></tr>
    <tr><td class="paramname">out</td><td>Output buffer for the hash (must be HASH_SIZE bytes). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MERKLE_SUCCESS on success, error code otherwise. </dd></dl>

</div>
</div>
<a id="ae66f6b31b5ad750f1fe042a706a4e3d4" name="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66f6b31b5ad750f1fe042a706a4e3d4">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main entry point for testing. </p>

</div>
</div>
<a id="a0f39ca1ae21ad9ba01b909e719ad8388" name="a0f39ca1ae21ad9ba01b909e719ad8388"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f39ca1ae21ad9ba01b909e719ad8388">&#9670;&#160;</a></span>merkle_tree_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_merkle_8h.html#a764b87014a84f1e0efa1412150f310cf">merkle_tree_t</a> * merkle_tree_create </td>
          <td>(</td>
          <td class="paramtype">const void **</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t *</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a Merkle tree from an array of data blocks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Array of pointers to data blocks. </td></tr>
    <tr><td class="paramname">size</td><td>Array of sizes for each data block. </td></tr>
    <tr><td class="paramname">count</td><td>Number of data blocks. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the created Merkle tree, or NULL on failure. </dd></dl>

</div>
</div>
<a id="a4253c66cf0bacefdead8f98bfaea3ce7" name="a4253c66cf0bacefdead8f98bfaea3ce7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4253c66cf0bacefdead8f98bfaea3ce7">&#9670;&#160;</a></span>merkle_tree_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void merkle_tree_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_merkle_8h.html#a764b87014a84f1e0efa1412150f310cf">merkle_tree_t</a> *</td>          <td class="paramname"><span class="paramname"><em>tree</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys a Merkle tree and frees all associated memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tree</td><td>Pointer to the Merkle tree to destroy. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="_merkle_8c.html">Merkle.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
